<!-- SECTION *Untitled -->
<style>
#menu {
  background-color: black;
  color: white;
}
.item:hover {
  background-color: orange;
}
.item {
  padding-left: 6px;
  padding-right: 10px;
  border-right: solid 1px white;
  cursor: pointer;
}
</style>

<div id="menu">
<span class="item" onclick="menuItemClicked(this)">Spring</span>
<span class="item" onclick="menuItemClicked(this)">Vis-Écrou</span>
<span class="item" onclick="menuItemClicked(this)">Pivot</span>
</div>

<script defer>
function menuItemClicked(item) {
  console.log('lalalal')
  let siblings = item.parentElement.children;
  for (let i = 0; i < siblings.length; i++) {
    let elem = document.getElementById(siblings[i].innerText)
    if (elem) {elem.style.display = "none";}
  }
  let elem = document.getElementById(item.innerText)
  if (elem) {elem.style.display = "block";}
}
</script>
<!-- SECTION Untitled -->
<div id="Ressorts">
<h1>Les ressorts</h1>
<h2>Les ressorts de torsion</h2>
<h3>Les ressorts de torsion cylindriques à spires</h3>



<script>
function calculate() {
  Rpe.value = parseFloat(Rm.value)*0.7
  var nbTourATourner = (parseFloat(h.value)/(parseFloat(Dd.value)*3.1416))+parseFloat(nsup.value)
  alpha.value = nbTourATourner*2*3.1416
  m.value = (parseFloat(F.value) * 9.81)*(parseFloat(Dd.value)/2)/parseInt(Nb.value)
  N.value = parseFloat(E.value)*Math.pow(parseFloat(d.value),4)*alpha.value/(m.value*64*parseFloat(D.value))
  sigma.value = parseFloat(Kf.value)*32*m.value/(3.1416*Math.pow(parseFloat(d.value),3))
  d_calc.value = Math.pow((parseFloat(Kf.value)*32*m.value)/(parseFloat(Rpe.value)*3.1416),1/3)
  m_rup.value = parseFloat((Rpe.value*3.1416*Math.pow(parseFloat(d.value),3))/(parseFloat(Kf.value)*32))
}
window.onload = calculate()
</script>

TODO: Calculer le diametre du fil requis en fonction de la contrainte maximale, ensuite calculer le nombre de spires actives requis selon le diametre d'enroulement souhaitee.

<form id="theForm" oninput="calculate()">
<h4>Données générales</h4>
Dd: Diamètre du drum (mm):<input id="Dd" type="number" value="66.675"><br/>
D: Diamètre d'enroulement (centre à centre) (mm):<input id="D" type="number" value="13"><br/>
E: module d'élasticité longitudinal (N/mm^2)<input id="E" type="number" value="200000"><br/>
d: Diamètre du fil (mm):<input id="d" type="number" value="0.889"><br/>
Nb: Nombre de ressort:<input id="Nb" type="number" value="1"><br/>

<h4>Calcul du moment</h4>
F: charge [diviser par 2 si avec poulie] (kg):<input id="F" type="number" value="2"><br/>
M: moment par ressort(N.mm):<input id="m" readonly><br/>
M: moment à la résistance pratique à l'extension (N.mm):<input id="m_rup" readonly><br/>

<h4>Calcul de l'angle d'enroulement</h4>
h: Distance à monter [multiplier par 2 si avec poulie] (mm):<input id="h" type="number" value="2540"><br/>
nsup: Nombre de tour supplémentaire pour garder de la tension:<input id="nsup" type="number" value="1"><br/>
alpha: Angle d'enroulement du ressort (radians):<input readonly id="alpha"><br/>
</form>

<h4>Calcul du diamètre de fil</h4>

Kf: coefficient de concentration de contraintes:<input id="Kf" value="1.1" readonly><br/>
Rpe: résistance pratique à l'extension [0.7*Rm] (N/mm^2)<input id="Rpe" readonly><br/>
Rm: résistance à la tension (N/mm^2)<input id="Rm" type="number" value="2234"><br/>
Coefficient de sécurité:<input id="" type="number" value="2"><br/>
d_calc: Diamètre du fil (mm):<input id="d_calc" readonly><br/>

<h4>Calcul du nombre de spires actives</h4>

N: nombre de spires actives:<input id="N" readonly><br/>

<h4>Calcul de la contrainte maximale</h4>


sigma: contrainte (N/mm^2)<input id="sigma" readonly><br/>


<h4>etc</h4>

: ():<input id="" type="number" value=""><br/>

<h4>Résultats</h4>

<p>
D, d et h en mm
alpha: angle d'enroulement en radians
F: charge en N
N: nombre de spires actives
E: module 
</p>
<math>
	H(s) = ∫<sub>0</sub><sup>∞</sup> e<sup>-st</sup> h(t) dt
</math>

<p></p>
<h1>Sources</h1>
Guide des sciences et technologies industrielles - Jean-Louis FANCHON
</div>
<!-- SECTION *Untitled -->
<div id="Vis-Écrou">
<h1>Les systèmes vis-écrous</h1>

<p>
EfficiencyBalls screws also offer higher levels of efficiency because rolling contact provides a lower coefficient of friction than sliding contact.  The efficiency of ball screws isrelatively constant and is typically better than 90%.  The efficiency of lead screws, on the other hand, typically ranges between 20% and 80%.  The efficiency of a lead screw is highly dependent upon its helix angle.  As a general rule, higher helix angles mean higher efficiency.  A higher helix angle is more efficientbecause less of the energy used to drive the lead screw goes into overcoming friction.  This is because the number of times the screw must rotate to achieve the same linear displacement is reduced on a high helix screw.  A disadvantage of a high helix angle is that more torqueis required to turn the screw

It’s important to note that when the efficiency of a lead screw exceeds 50%, the lead screw becomes back-drivable, which means it can be driven backwards by the load.

On the other hand, plastic and stainless steel lead screw assembliesaretypicallylimited to a duty cycle of 50% under the rated load.  Lead screw assemblies that use bronze nuts have higher load capacities,but these heavier loads increase frictionalheat so their duty cycles must be lower, often as low as 10%.
</p>
</div>
<!-- SECTION *Untitled -->
<div id="Pivots">
<h1>Les pivots</h1>
<pre>
# Il y a un point A,B et C. Le moteur au point A applique une force au point B
# qui tourne 180 deg autour du point C. Pour que ce soit plus simple, on aligne
# les points a la vertical. Le point A est a 0,0

A = [0,0];
C = [0,10];

n = 30; # Le nombre de points

thetas = [pi/2:pi/n:3*pi/2];
alphas = zeros(1,n+1);
ABX = zeros(1,n+1);
ABY = zeros(1,n+1);
r = 1;

BX = r*cos(thetas);
BY = r*sin(thetas)+C(2);

for i = [1:n+1]
    B = [BX(i),BY(i)];
    AB = B - A;
    CB = B - C;
    ABX(i) = AB(1);
    ABY(i) = AB(2);
    angle1 = atan2d(AB(2),AB(1));
    angle2 = mod(atan2d(CB(2),CB(1)) + 360, 360);
    alphas(i) = mod(angle2 - angle1 + 360, 360);
end

figure
hold on
plot(A(1),A(2))
plot(C(1),C(2))
plot(BX,BY)
xlabel('x')
ylabel('y')
axis([-2  2 -1 12])
title('Position des points')

figure
hold on
plot(linspace(0,180,n+1), sind(alphas))
plot([90 90],[0 1])
axis([0  180 0 1])
title('Angle AB')
</pre>
</div>